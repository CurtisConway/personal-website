{"version":3,"sources":["data.js","scripts.js"],"names":["musoraImageList","mobile","tablet","desktop","window","onload","imageListDialog","ImageListDialog","data","document","addEventListener","event","element","target","matches","openDialog","closeDialog","nextSlide","previousSlide","body","classList","toggle","imageLists","querySelectorAll","imageDialog","querySelector","imageSlide","imageSlideImage","cdnUrl","dialogActive","activeListId","dialogSlides","currentSlide","imageType","getImageTypeByBreakpoint","initLists","oldImageType","getSlides","lists","Array","from","forEach","list","listId","getAttribute","images","innerHTML","image","item","createElement","dataset","getThumb","appendChild","baseUrl","matchMedia","listItem","add","parentElement","children","indexOf","remove","activeSlide","getSlideUrl","src","preloadSlides","filter","slide","Image","length","Element","prototype","msMatchesSelector","webkitMatchesSelector"],"mappings":"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","file":"scripts.e93fe9b7.js","sourceRoot":"..","sourcesContent":["export default {\r\n    musoraImageList: {\r\n        mobile: [\r\n            'v1582934531/drumeo_home_mobile_nsgqtx.jpg',\r\n            'v1582934531/drumeo_learningpath_mobile_wwxpof.jpg',\r\n            'v1582934531/drumeo_course_mobile_eurtcm.jpg',\r\n            'v1582934531/drumeo_lesson_mobile_i0oory.jpg',\r\n            'v1582934531/drumeo_assignment_mobile_ruylcb.jpg',\r\n            'v1582934532/drumeo_soundslice_mobile_iehssh.jpg',\r\n            'v1582934532/drumeo_shows_mobile_tdv58h.jpg',\r\n            'v1582934531/drumeo_playalongs_mobile_grlgba.jpg',\r\n            'v1582934532/drumeo_profile_mobile_iyw0ie.jpg',\r\n            'v1582934532/pianote_home_mobile_vgzvgl.jpg',\r\n            'v1582934532/pianote_learningpath_mobile_ruumc0.jpg',\r\n            'v1582934532/pianote_lesson_mobile_ip1mey.jpg',\r\n            'v1582934532/pianote_assignment_mobile_dqvbse.jpg',\r\n            'v1582934532/pianote_soundslice_mobile_g0udjq.jpg',\r\n            'v1582934532/pianote_profile_mobile_fbhkjc.jpg',\r\n            'v1582934532/pianote_forums_mobile_wjnzhb.jpg',\r\n            'v1582934532/pianote_thread_mobile_v0kl12.jpg',\r\n        ],\r\n        tablet: [\r\n            'v1582936560/drumeo_home_tablet_c2ukvm.jpg',\r\n            'v1582936560/drumeo_learningpath_tablet_wcky6q.jpg',\r\n            'v1582936560/drumeo_course_tablet_lvacim.jpg',\r\n            'v1582936560/drumeo_lesson_tablet_ftsoqq.jpg',\r\n            'v1582936561/drumeo_assignment_tablet_en5wcc.jpg',\r\n            'v1582936560/drumeo_soundslice_tablet_ybvcih.jpg',\r\n            'v1582936560/drumeo_shows_tablet_oerpmy.jpg',\r\n            'v1582936560/drumeo_playalongs_tablet_nbounz.jpg',\r\n            'v1582936560/drumeo_profile_tablet_npsono.jpg',\r\n            'v1582936561/pianote_home_tablet_wyh9gp.jpg',\r\n            'v1582936560/pianote_learningpath_tablet_vjetus.jpg',\r\n            'v1582936561/pianote_lesson_tablet_tnvzga.jpg',\r\n            'v1582936560/pianote_assignment_tablet_vudmme.jpg',\r\n            'v1582936561/pianote_soundslice_tablet_usxlqj.jpg',\r\n            'v1582936561/pianote_profile_tablet_fdlssx.jpg',\r\n            'v1582936560/pianote_forums_tablet_caiyd4.jpg',\r\n            'v1582934532/pianote_thread_mobile_v0kl12.jpg',\r\n        ],\r\n        desktop: [\r\n            'v1582930947/drumeo_home_desktop_lxonpx.jpg',\r\n            'v1582930947/drumeo_learningpath_desktop_ykjzfd.jpg',\r\n            'v1582930946/drumeo_course_desktop_gve8tq.jpg',\r\n            'v1582930946/drumeo_lesson_desktop_h39gks.jpg',\r\n            'v1582930946/drumeo_assignment_desktop_s1amqx.jpg',\r\n            'v1582930947/drumeo_soundslice_desktop_ayyh6b.jpg',\r\n            'v1582930947/drumeo_shows_desktop_rkunpy.jpg',\r\n            'v1582930946/drumeo_playalongs_desktop_emickm.jpg',\r\n            'v1582930947/drumeo_profile_desktop_dwkfeh.jpg',\r\n            'v1582927655/pianote_home_desktop_t9ul1p.jpg',\r\n            'v1582927655/pianote_learningpath_desktop_zlmmj3.jpg',\r\n            'v1582927655/pianote_lesson_desktop_iq2iqh.jpg',\r\n            'v1582927654/pianote_assignment_desktop_kvkgd7.jpg',\r\n            'v1582927655/pianote_soundslice_desktop_grx7fc.jpg',\r\n            'v1582927655/pianote_profile_desktop_pckuhp.jpg',\r\n            'v1582927654/pianote_forums_desktop_y6vlb1.jpg',\r\n            'v1582927655/pianote_thread_desktop_zrowqy.jpg',\r\n        ],\r\n    }\r\n}","import data from './data';\r\n\r\nwindow.onload = () => {\r\n    const imageListDialog = new ImageListDialog(data);\r\n\r\n    document.addEventListener('click', event => {\r\n        const element = event.target;\r\n\r\n        if(element.matches('.image_list li')) {\r\n            imageListDialog.openDialog(element);\r\n        }\r\n\r\n        if(element.matches('.close_dialog, .dialog_background')) {\r\n            imageListDialog.closeDialog();\r\n        }\r\n\r\n        if(element.matches('.next_image')) {\r\n            imageListDialog.nextSlide();\r\n        }\r\n\r\n        if(element.matches('.previous_image')) {\r\n            imageListDialog.previousSlide();\r\n        }\r\n\r\n        if(element.matches('.color_mode_button')) {\r\n            document.body.classList.toggle('light_mode');\r\n        }\r\n    });\r\n};\r\n\r\nclass ImageListDialog {\r\n    constructor(data){\r\n        const imageLists = document.querySelectorAll('.image_list');\r\n        this.data = data;\r\n        this.imageDialog = document.querySelector('.image_dialog');\r\n        this.imageSlide = document.querySelector('.image_slide');\r\n        this.imageSlideImage = this.imageSlide.querySelector('img');\r\n        this.cdnUrl = 'https://res.cloudinary.com/dloxgdltu/image/upload';\r\n        this.dialogActive = false;\r\n        this.activeListId = null;\r\n        this.dialogSlides = [];\r\n        this.currentSlide = 0;\r\n\r\n\r\n        this.imageType = this.getImageTypeByBreakpoint();\r\n        this.initLists(imageLists);\r\n\r\n        // Re initialize the lists if the window is resized to a different orientation/breakpoint\r\n        window.addEventListener('resize', () => {\r\n            const oldImageType = this.imageType;\r\n            this.imageType = this.getImageTypeByBreakpoint();\r\n\r\n            if(oldImageType !== this.imageType) {\r\n                this.initLists(imageLists);\r\n\r\n                if(this.activeListId != null){\r\n                    this.getSlides(this.activeListId);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    initLists(lists) {\r\n        Array.from(lists).forEach((list) => {\r\n            const listId = list.getAttribute('id');\r\n            const data = this.data[listId] || {};\r\n            const images = data[this.imageType];\r\n\r\n            // Clear the list if it has items already\r\n            list.innerHTML = '';\r\n\r\n            images.forEach((image) => {\r\n                const item = document.createElement('li');\r\n                item.dataset['listId'] = listId;\r\n                item.innerHTML = `<img src=\"${this.getThumb(image)}\" />`;\r\n\r\n                list.appendChild(item);\r\n            });\r\n        });\r\n    }\r\n\r\n    getThumb(image) {\r\n        const baseUrl = `${this.cdnUrl}/ar_1:1,c_fill,g_auto,w_250`;\r\n        return `${baseUrl}/${image}`;\r\n    }\r\n\r\n    getImageTypeByBreakpoint() {\r\n        if (window.matchMedia('(orientation: landscape)').matches) {\r\n            return 'desktop';\r\n        }\r\n\r\n        if (\r\n            window.matchMedia('(min-width: 760px)').matches &&\r\n            window.matchMedia('(orientation: portrait)').matches\r\n        ) {\r\n            return 'tablet';\r\n        }\r\n\r\n        return 'mobile';\r\n    }\r\n\r\n    openDialog(listItem) {\r\n        this.imageDialog.classList.add('active');\r\n        this.dialogActive = true;\r\n        this.activeListId = listItem.dataset['listId'];\r\n        this.currentSlide = Array.from(listItem.parentElement.children).indexOf(listItem);\r\n\r\n        this.getSlides();\r\n    }\r\n\r\n    closeDialog() {\r\n        this.imageDialog.classList.remove('active');\r\n        this.dialogActive = false;\r\n    }\r\n\r\n    getSlides() {\r\n        this.dialogSlides = data[this.activeListId][this.imageType];\r\n        const currentSlide = this.dialogSlides[this.currentSlide];\r\n\r\n        this.activeSlide = this.getSlideUrl(currentSlide);\r\n\r\n        this.imageSlideImage.src = this.activeSlide;\r\n\r\n        this.imageSlideImage.addEventListener('load', () => {\r\n            this.preloadSlides(this.dialogSlides.filter(slide => slide !== currentSlide));\r\n        });\r\n    }\r\n\r\n    preloadSlides(slides = []) {\r\n        slides.forEach(slide => {\r\n            const image = new Image();\r\n            image.src = this.getSlideUrl(slide);\r\n        });\r\n    }\r\n\r\n    getSlideUrl(slide) {\r\n        return `${this.cdnUrl}/${slide}`;\r\n    }\r\n\r\n    nextSlide() {\r\n        this.currentSlide += 1;\r\n\r\n        if(this.currentSlide >= this.dialogSlides.length) {\r\n            this.currentSlide = 0;\r\n        }\r\n\r\n        this.activeSlide = this.getSlideUrl(this.dialogSlides[this.currentSlide]);\r\n        this.imageSlideImage.src = this.activeSlide;\r\n    }\r\n\r\n    previousSlide() {\r\n        this.currentSlide -= 1;\r\n\r\n        if(this.currentSlide < 0) {\r\n            this.currentSlide = this.dialogSlides.length - 1;\r\n        }\r\n\r\n        this.activeSlide = this.getSlideUrl(this.dialogSlides[this.currentSlide]);\r\n        this.imageSlideImage.src = this.activeSlide;\r\n    }\r\n}\r\n\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches = Element.prototype.msMatchesSelector ||\r\n        Element.prototype.webkitMatchesSelector;\r\n}\r\n\r\n"]}